<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>я не гей</title>
<!-- Положи рядом файл music.mp3 (или поменяй путь в теге <source>) -->
<style>
  :root{
    --bg:#050307;
    --glass: rgba(255,255,255,0.04);
    --btn-radius: 999px;
    --btn-pad: 18px 34px;
    --maxw: min(96vw,960px);
    --shadow-strong: 0 18px 60px rgba(0,0,0,0.6);
  }

  html,body{height:100%;margin:0;background:var(--bg);font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;color:#fff;-webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;}

  /* фон: мягкие разноцветные пятна, имитирующие неоновую подсветку */
  body::before{
    content:"";
    position:fixed; inset:-20%;
    background:
      radial-gradient(600px 300px at 10% 20%, rgba(255,20,147,0.08), transparent 18%),
      radial-gradient(700px 400px at 85% 80%, rgba(0,200,255,0.08), transparent 18%),
      radial-gradient(500px 300px at 50% 40%, rgba(255,230,0,0.06), transparent 14%),
      radial-gradient(500px 300px at 30% 75%, rgba(0,240,120,0.06), transparent 14%);
    z-index:0; filter: blur(36px); mix-blend-mode:screen; pointer-events:none;
    animation: bgShift 12s ease-in-out infinite;
  }
  @keyframes bgShift {
    0% { transform: translateY(0) scale(1); opacity:1 }
    50% { transform: translateY(-6%) scale(1.03); opacity:0.95 }
    100% { transform: translateY(0) scale(1); opacity:1 }
  }

  /* контейнер центрирует содержимое */
  .wrap { min-height:100vh; display:flex; align-items:center; justify-content:center; position:relative; z-index:1; padding:28px; box-sizing:border-box; max-width:var(--maxw); margin:0 auto; }

  /* неоновая рамка вокруг содержимого */
  .neon-frame {
    width:100%;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:48px;
    border-radius:18px;
    position:relative;
    box-shadow: var(--shadow-strong);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    overflow:visible;
  }

  /* вращающаяся радужная дымка (псевдоэлемент) */
  .neon-frame::before{
    content:"";
    position:absolute;
    inset:-6px;
    border-radius:22px;
    padding:2px;
    background: conic-gradient(
      from 180deg,
      #ff0018 0deg, #ff8c00 60deg, #ffed00 120deg,
      #00811f 180deg, #004cff 240deg, #750787 300deg, #ff0018 360deg
    );
    filter: blur(18px) saturate(1.2);
    opacity:0.9;
    z-index:-2;
    transform: rotate(0deg);
    animation: spin 10s linear infinite;
    mix-blend-mode:screen;
  }
  @keyframes spin { to { transform: rotate(360deg); } }

  /* внутренний неоновый контур (тонкий) */
  .neon-frame::after{
    content:"";
    position:absolute;
    inset:6px;
    border-radius:12px;
    background: linear-gradient(90deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
    z-index:-1;
  }

  /* центральная кнопка */
  .center{
    display:flex; flex-direction:column; align-items:center; gap:10px;
  }

  .play-btn{
    --glow-1: 0 0 40px rgba(255,0,102,0.16);
    --glow-2: 0 0 90px rgba(0,200,255,0.12);
    appearance:none; -webkit-appearance:none; border:0; padding:0; cursor:pointer; border-radius:var(--btn-radius);
    background:transparent; position:relative; z-index:2; outline:none;
  }

  .play-plate{
    display:inline-flex; align-items:center; gap:14px;
    padding:var(--btn-pad); border-radius:var(--btn-radius);
    font-weight:800; font-size:20px; letter-spacing:0.01em; color:#fff;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    position:relative; overflow:visible;
    background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
    border: 1px solid rgba(255,255,255,0.06);
    transition: transform .12s ease, box-shadow .12s ease;
    padding-left: 44px; padding-right:44px;
  }

  .play-plate:active{ transform: translateY(2px); }

  /* радужный неоновый ореол (обширный) */
  .play-plate::before{
    content:"";
    position:absolute; inset:-10px; border-radius:999px; z-index:-3;
    background: conic-gradient(
      from 180deg,
      #ff0018 0deg, #ff8c00 60deg, #ffed00 120deg,
      #00811f 180deg, #004cff 240deg, #750787 300deg, #ff0018 360deg
    );
    filter: blur(28px) saturate(1.3);
    opacity:0.95;
    transition: transform .22s ease, opacity .22s;
    mix-blend-mode: screen;
  }

  /* тонкая неоновая линия вокруг кнопки */
  .play-plate::after{
    content:"";
    position:absolute; inset:2px; border-radius:999px; z-index:-2;
    background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    border: 1px solid rgba(255,255,255,0.06);
  }

  /* иконка слева */
  .icon{
    width:30px; height:30px; display:inline-grid; place-items:center; font-size:18px;
    text-shadow: 0 0 10px rgba(255,255,255,0.85);
  }

  /* эффект "играет" */
  .play-plate.playing{ transform: translateY(-6px); box-shadow: 0 28px 80px rgba(0,0,0,0.6); }
  .play-plate.playing::before{ filter: blur(40px) saturate(1.5); transform: scale(1.02); }

  /* маленькая подсказка */
  .hint{ font-size:13px; color:rgba(255,255,255,0.86); background:var(--glass); padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); }

  /* адаптив */
  @media (max-width:520px){
    .play-plate{ font-size:18px; padding:14px 22px; padding-left:40px; padding-right:40px; }
    .icon{ width:26px; height:26px; font-size:16px; }
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="neon-frame" role="main" aria-label="Неоновый интерфейс">
      <div class="center">
        <button id="playBtn" class="play-btn" aria-pressed="false" title="Нажмите, чтобы включить музыку">
          <span id="plate" class="play-plate" role="button" aria-hidden="false">
            <span id="icon" class="icon">▶︎</span>
            <span class="label">(</span>
          </span>
        </button>

        <div id="hint" class="hint" style="display:none">если звук не включился автоматически — ебаните кнопку</div>
      </div>
    </div>
  </div>

  <!-- Аудио: положи рядом music.mp3 -->
  <audio id="bgAudio" preload="auto" loop playsinline webkit-playsinline>
    <source src="music.mp3" type="audio/mpeg">
    Ваш браузер не поддерживает аудио.
  </audio>

<script>
/* Поведение:
   - пытаемся автозапустить; если браузер блокирует — показываем подсказку;
   - центр.кнопка управляет воспроизведением; текст кнопки остаётся "с любовью для Стасика", иконка слева переключается;
   - совместимость с iOS/Android: playsinline + повторная попытка при первом жесте.
*/

(function(){
  const audio = document.getElementById('bgAudio');
  const btn = document.getElementById('playBtn');
  const plate = document.getElementById('plate');
  const icon = document.getElementById('icon');
  const hint = document.getElementById('hint');

  let isPlaying = false;

  function setPlaying(state){
    isPlaying = !!state;
    if (isPlaying){
      plate.classList.add('playing');
      icon.textContent = '⏸';
      plate.setAttribute('aria-pressed','true');
    } else {
      plate.classList.remove('playing');
      icon.textContent = '▶︎';
      plate.setAttribute('aria-pressed','false');
    }
  }

  async function tryAutoplay(){
    const p = audio.play();
    if (p && p.then){
      try {
        await p;
        setPlaying(true);
        hint.style.display = 'none';
      } catch(e){
        // автоплей заблокирован
        hint.style.display = 'block';
        setPlaying(false);
      }
    } else {
      // старые браузеры
      hint.style.display = 'block';
      setPlaying(false);
    }
  }

  btn.addEventListener('click', async (e) => {
    e.preventDefault();
    if (!isPlaying){
      try {
        await audio.play();
        setPlaying(true);
        hint.style.display = 'none';
      } catch(err){
        hint.style.display = 'block';
      }
    } else {
      audio.pause();
      setPlaying(false);
    }
  });

  // если пользователь сделал жест ранее — это часто снимает блокировку
  function resumeOnGesture(){
    const handler = async () => {
      if (!isPlaying){
        try { await audio.play(); setPlaying(true); hint.style.display = 'none'; }
        catch(e){ /* всё ещё заблокирован */ }
      }
      window.removeEventListener('touchstart', handler, {passive:true});
      window.removeEventListener('mousedown', handler);
      window.removeEventListener('click', handler);
    };
    window.addEventListener('touchstart', handler, {passive:true});
    window.addEventListener('mousedown', handler);
    window.addEventListener('click', handler);
  }

  // init
  document.addEventListener('DOMContentLoaded', ()=> {
    tryAutoplay();
    resumeOnGesture();
    // небольшая динамика для эстетики: краткое подсвечивание при загрузке
    setTimeout(()=> {
      plate.classList.add('playing');
      setTimeout(()=> { if (!isPlaying) plate.classList.remove('playing'); }, 700);
    }, 600);
  });

  // Синхронизируем состояние если управление идёт извне
  audio.addEventListener('play', ()=> setPlaying(true));
  audio.addEventListener('pause', ()=> setPlaying(false));
  audio.addEventListener('ended', ()=> setPlaying(false));
})();
</script>
</body>
  </html>
